(function(a){a.fn.extend({inputNumberFormat:function(c){this.defaultOptions={decimal:2,decimal_auto:2,decimal_separator:".",decimal_separator_authorized:[".",","]};var e=a.extend({},this.defaultOptions,c);var d=function(h,f){var g="^[0-9]+";if(f.decimal){g+="["+f.decimal_separator_authorized.join("")+"]*[0-9]{0,"+f.decimal+"}"}g=new RegExp(g+"$");return h.match(g)};var b=function(k,f){var j=k;if(!j){return j}j=j.replace(",",f.decimal_separator);if(f.decimal&&f.decimal_auto){if(j.indexOf(f.decimal_separator)===-1){j+=f.decimal_separator}var h=f.decimal_auto-j.split(f.decimal_separator)[1].length;for(var g=1;g<=h;g++){j+="0"}}return j};return this.each(function(){var f=a(this);f.on("keypress",function(j){if(j.ctrlKey){return}if(j.key.length>1){return}var i=a.extend({},e,a(this).data());var g=a(this).val().substr(0,j.target.selectionStart);var h=a(this).val().substr(j.target.selectionEnd,a(this).val().length-1);var k=g+j.key+h;if(!d(k,i)){return j.preventDefault()}});f.on("blur",function(h){var g=a.extend({},e,a(this).data());a(this).val(b(a(this).val(),e))})})}})})(jQuery);